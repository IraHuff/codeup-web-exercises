<!DOCTYPE html>
<html>
<head>
  <title>Konami Code</title>
</head>
<body>
<h1>Konami Code</h1>

<script>
  "use strict";

  // document.addEventListener("keyup", event => console.log(event.key) );
  //ArrowUP, ArrowDown, ArrowLeft, ArrowRight, b, a, Enter

  let keymap = {
    ArrowUp: 'up',
    ArrowDown: 'down',
    ArrowLeft: 'left',
    ArrowRight: 'right',
    a: 'a',
    b: 'b',
    Enter: 'start'
  };
  let code = ['up', 'up', 'down', 'down', 'left', 'right', 'left', 'right', 'b', 'a'];
  let codePosition = 0;
  document.addEventListener("keyup", function(e){
    let key = keymap[e.key];
    let nextKey = code[codePosition];
    // console.log(key);
    // console.log(nextKey);
    // console.log(code.length);
    if (key === nextKey){
      codePosition++;
    }else if (codePosition == 10){
      activateCheats();
      codePosition = 0;
    }else codePosition = 0;
  })
let audio = new Audio('audio/fatality.mp3')
  function activateCheats() {
    document.body.style.backgroundColor = 'red';
    audio.play();
    document.h1.innerText = 'cheats activated';
  }
</script>
</body>
</html>